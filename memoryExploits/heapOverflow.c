#include <stdlib.h>
#include <string.h>
#include <stdio.h>

int main()
{
    char *heap_buff1 = (char *)malloc(10);
    char *heap_buff2 = (char *)malloc(10);

    strcpy(heap_buff1, "AAAAAAAAAAAA");       // overflowing heap
    printf("Heap Buffer2: %s\n", heap_buff2); // corrupted
    free(heap_buff1);
    free(heap_buff2);
    return 0;
}

// safe code
// #include <stdlib.h>
// #include <string.h>
// #include <stdio.h>

// int main() {
//     char *heap_buffer1 = (char *)malloc(10);
//     char *heap_buffer2 = (char *)malloc(10);

//     // Use strncpy to limit the number of characters copied
//     strncpy(heap_buffer1, "AAAAAAAAAAAA", 9);
//     heap_buffer1[9] = '\0'; // Ensure null termination

//     printf("Heap Buffer2: %s\n", heap_buffer2);

//     free(heap_buffer1);
//     free(heap_buffer2);

//     return 0;
// }